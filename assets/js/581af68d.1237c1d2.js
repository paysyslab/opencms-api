"use strict";(globalThis.webpackChunkopenconnect_api=globalThis.webpackChunkopenconnect_api||[]).push([[642],{6122(n,e,i){i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"apidocument","title":"API Document","description":"OpenConnect Unified API Specification","source":"@site/docs/apidocument.md","sourceDirName":".","slug":"/apidocument","permalink":"/openconnect-api/apidocument","draft":false,"unlisted":false,"editUrl":"https://github.com/paysyslab/openconnect-api/tree/main/docs/apidocument.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"API Document","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Data Type Reference","permalink":"/openconnect-api/dataTypeRef"}}');var s=i(4848),r=i(8453);const t={title:"API Document",sidebar_position:2},c=void 0,a={},d=[{value:"OpenConnect Unified API Specification",id:"openconnect-unified-api-specification",level:2},{value:"Authentication Flow",id:"authentication-flow",level:2},{value:"API Classification",id:"api-classification",level:2},{value:"1. Non-Financial APIs",id:"1-non-financial-apis",level:3},{value:"Get Banks List",id:"get-banks-list",level:4},{value:"Unified Title Fetch",id:"unified-title-fetch",level:4},{value:"Get Default Account by RAAST ID",id:"get-default-account-by-raast-id",level:4},{value:"Merchant Alias Inquiry",id:"merchant-alias-inquiry",level:4},{value:"Biller &amp; Telco Catalog APIs",id:"biller--telco-catalog-apis",level:4},{value:"Bill Inquiry",id:"bill-inquiry",level:4},{value:"Transaction Inquiry",id:"transaction-inquiry",level:4},{value:"2. Financial APIs",id:"2-financial-apis",level:3},{value:"Transfer via 1LINK (IBFT)",id:"transfer-via-1link-ibft",level:4},{value:"Transfer via RAAST (P2P)",id:"transfer-via-raast-p2p",level:4},{value:"Bill Payment",id:"bill-payment",level:4},{value:"Telco Bundle / Package Purchase",id:"telco-bundle--package-purchase",level:4},{value:"3. RTGS APIs (PRISM)",id:"3-rtgs-apis-prism",level:3},{value:"Outward Transactions",id:"outward-transactions",level:4},{value:"Inward Transactions",id:"inward-transactions",level:4},{value:"Error Handling",id:"error-handling",level:2}];function o(n){const e={br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"openconnect-unified-api-specification",children:"OpenConnect Unified API Specification"}),"\n",(0,s.jsxs)(e.p,{children:["OpenConnect exposes REST-based APIs conforming to OpenAPI 3.0, acting as a unified abstraction layer over multiple payment rails including ",(0,s.jsx)(e.strong,{children:"RAAST"}),", ",(0,s.jsx)(e.strong,{children:"1LINK"}),", ",(0,s.jsx)(e.strong,{children:"Billing Aggregators"}),", and ",(0,s.jsx)(e.strong,{children:"RTGS (PRISM)"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"All APIs require authentication via OAuth2 (client credentials) and are protected using JWT and Mutual TLS."}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"authentication-flow",children:"Authentication Flow"}),"\n",(0,s.jsx)(e.p,{children:"Before invoking any API, the channel must obtain an access token."}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Token Endpoint"}),"\nPOST /realms/paysys-raast-realm/protocol/openid-connect/token"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Grant Type: ",(0,s.jsx)(e.code,{children:"client_credentials"})]}),"\n",(0,s.jsx)(e.li,{children:"Authentication: HTTP Basic (channel credentials)"}),"\n",(0,s.jsxs)(e.li,{children:["Token used in header:",(0,s.jsx)(e.br,{}),"\n",(0,s.jsx)(e.code,{children:"Authorization: Bearer <access_token>"})]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"api-classification",children:"API Classification"}),"\n",(0,s.jsx)(e.h3,{id:"1-non-financial-apis",children:"1. Non-Financial APIs"}),"\n",(0,s.jsx)(e.h4,{id:"get-banks-list",children:"Get Banks List"}),"\n",(0,s.jsx)(e.p,{children:"Used to retrieve participant banks and their supported rails."}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Identifies:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"IBFT support"}),"\n",(0,s.jsx)(e.li,{children:"RAAST P2P / P2M"}),"\n",(0,s.jsx)(e.li,{children:"RAAST Bulk"}),"\n",(0,s.jsx)(e.li,{children:"Title Fetch 2.0 availability"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["Used ",(0,s.jsx)(e.strong,{children:"before Title Fetch and Payments"}),"."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h4,{id:"unified-title-fetch",children:"Unified Title Fetch"}),"\n",(0,s.jsxs)(e.p,{children:["A ",(0,s.jsx)(e.strong,{children:"rail-agnostic title fetch API"})," that dynamically routes the request to RAAST or 1LINK."]}),"\n",(0,s.jsx)(e.p,{children:"Key Features:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Preferred rail selection"}),"\n",(0,s.jsx)(e.li,{children:"Fallback to alternate rail"}),"\n",(0,s.jsx)(e.li,{children:"EFT-compliant purpose code validation"}),"\n",(0,s.jsx)(e.li,{children:"Returns destination payment system for payment routing"}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Important:"}),(0,s.jsx)(e.br,{}),"\n","The returned ",(0,s.jsx)(e.code,{children:"correlationId"})," ",(0,s.jsx)(e.strong,{children:"must be reused"})," in the financial transaction."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h4,{id:"get-default-account-by-raast-id",children:"Get Default Account by RAAST ID"}),"\n",(0,s.jsx)(e.p,{children:"Resolves beneficiary account details using RAAST CAS."}),"\n",(0,s.jsx)(e.p,{children:"Supports aliases:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"MOBILE"}),"\n",(0,s.jsx)(e.li,{children:"CNIC"}),"\n",(0,s.jsx)(e.li,{children:"EMAIL"}),"\n",(0,s.jsx)(e.li,{children:"TXT"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Returns:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"IBAN"}),"\n",(0,s.jsx)(e.li,{children:"Account currency"}),"\n",(0,s.jsx)(e.li,{children:"Destination payment system"}),"\n",(0,s.jsx)(e.li,{children:"Correlation expiry"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h4,{id:"merchant-alias-inquiry",children:"Merchant Alias Inquiry"}),"\n",(0,s.jsxs)(e.p,{children:["Used in ",(0,s.jsx)(e.strong,{children:"RAAST P2M"})," flows to resolve merchant account using:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"TILL_CODE"}),"\n",(0,s.jsx)(e.li,{children:"MID"}),"\n",(0,s.jsx)(e.li,{children:"VPA (future)"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Returns merchant account, acquiring institution, MCC, and DBA."}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h4,{id:"biller--telco-catalog-apis",children:"Biller & Telco Catalog APIs"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Get Billers Category"}),"\n",(0,s.jsx)(e.li,{children:"Get Billers List"}),"\n",(0,s.jsx)(e.li,{children:"Get Telco Companies"}),"\n",(0,s.jsx)(e.li,{children:"Get Telco Packages"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Supports:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Min / Max limits"}),"\n",(0,s.jsx)(e.li,{children:"Activation & deactivation dates"}),"\n",(0,s.jsx)(e.li,{children:"Future-dated billers & bundles"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h4,{id:"bill-inquiry",children:"Bill Inquiry"}),"\n",(0,s.jsx)(e.p,{children:"Retrieves bill details before payment to:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Reduce financial rejections"}),"\n",(0,s.jsx)(e.li,{children:"Validate consumer number"}),"\n",(0,s.jsx)(e.li,{children:"Identify settlement account based on source"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h4,{id:"transaction-inquiry",children:"Transaction Inquiry"}),"\n",(0,s.jsx)(e.p,{children:"Used to fetch status of:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"IBFT transfers"}),"\n",(0,s.jsx)(e.li,{children:"RAAST P2P transfers"}),"\n",(0,s.jsx)(e.li,{children:"Bill payments"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Supports:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Success"}),"\n",(0,s.jsx)(e.li,{children:"Failure"}),"\n",(0,s.jsx)(e.li,{children:"Not found"}),"\n",(0,s.jsx)(e.li,{children:"Includes RAAST identifiers when applicable"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"2-financial-apis",children:"2. Financial APIs"}),"\n",(0,s.jsx)(e.h4,{id:"transfer-via-1link-ibft",children:"Transfer via 1LINK (IBFT)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Debit via CBS"}),"\n",(0,s.jsx)(e.li,{children:"Credit routed through 1LINK"}),"\n",(0,s.jsx)(e.li,{children:"Title Fetch correlation mandatory (where applicable)"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h4,{id:"transfer-via-raast-p2p",children:"Transfer via RAAST (P2P)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Requires prior Title Fetch"}),"\n",(0,s.jsx)(e.li,{children:"Uses purpose codes as per SBP circulars"}),"\n",(0,s.jsx)(e.li,{children:"Correlation ID reuse mandatory"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h4,{id:"bill-payment",children:"Bill Payment"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Debit via CBS"}),"\n",(0,s.jsx)(e.li,{children:"Credit routed to aggregator / biller settlement account"}),"\n",(0,s.jsx)(e.li,{children:"Source-driven settlement logic"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h4,{id:"telco-bundle--package-purchase",children:"Telco Bundle / Package Purchase"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Similar to bill payment"}),"\n",(0,s.jsx)(e.li,{children:"Bundle-specific pricing and validity"}),"\n",(0,s.jsx)(e.li,{children:"Supports prepaid and postpaid flows"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"3-rtgs-apis-prism",children:"3. RTGS APIs (PRISM)"}),"\n",(0,s.jsx)(e.h4,{id:"outward-transactions",children:"Outward Transactions"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"MT103 \u2013 Single Customer Credit Transfer"}),"\n",(0,s.jsx)(e.li,{children:"MT102 \u2013 Multiple Customer Credit Transfer"}),"\n",(0,s.jsx)(e.li,{children:"MT202 \u2013 FI to FI Transfer"}),"\n",(0,s.jsx)(e.li,{children:"MTn92 \u2013 Cancellation"}),"\n",(0,s.jsx)(e.li,{children:"MTn95 \u2013 Status / Duplicate / Priority Change"}),"\n",(0,s.jsx)(e.li,{children:"MT920 \u2013 Balance & Interim Reports"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"inward-transactions",children:"Inward Transactions"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"MT900 \u2013 Confirmation of Debit"}),"\n",(0,s.jsx)(e.li,{children:"MT910 \u2013 Confirmation of Credit"}),"\n",(0,s.jsx)(e.li,{children:"MT940 / MT950 \u2013 EOD Reports"}),"\n",(0,s.jsx)(e.li,{children:"MTn96 \u2013 Response to Queries"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(e.p,{children:"All APIs return:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"response_code"})," (4 digits)"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"response_desc"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"correlationId"})}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Response codes are aligned with:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"SBP"}),"\n",(0,s.jsx)(e.li,{children:"RAAST"}),"\n",(0,s.jsx)(e.li,{children:"1LINK"}),"\n",(0,s.jsx)(e.li,{children:"RTGS PRISM specifications"}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},8453(n,e,i){i.d(e,{R:()=>t,x:()=>c});var l=i(6540);const s={},r=l.createContext(s);function t(n){const e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);